# Access Control List

Итак, что мы имеем сказать по спискам доступа? Вообще-то тема относительно простая и только ленивыми из курса CCNA не скопипащена. Но не разрывать же нам наше удивительное повествование из-за каких то предрассудков?

Каково предназначение списков доступа? Казалось бы, совершенно очевидный ответ — для ограничения доступа: кому-то что-то запретить, например. Вообще — это верно, но понимать нужно в более широком смысле: речь не только о безопасности. То есть, изначально, вероятно, так оно и было, отсюда **permit** и **deny** при настройке. Но на самом деле ACL — это универсальный и мощный механизм фильтрации. С их помощью можно определить на кого навешивать определённые политики, а на кого нет, кто будет участвовать в неких процессах, а кто нет, кого ограничиваем в скорость до 56k, а кого до 56M.  
Чтобы было чуть-чуть понятнее, приведём простой пример. Опираясь на списки доступа, работает Policy-Based Routing \(PBR\). Можно сделать здесь так, чтобы пакеты приходящие **из** сети 192.168.1.0/24 отправлялись на next-hop 10.0.1.1, а **из** сети 192.168.2.0/24 на 10.0.2.1 \(заметим, что обычная маршрутизация опирается на адрес назначения пакета и автоматически все пакеты отправляются на один next-hop\):  
![](http://img-fotki.yandex.ru/get/6405/83739833.1c/0_92a26_12f13c47_XL.jpg)  
В конце статьи пример настройки [PBR](5.-acl_and_nat.md#PBR) и [ограничения скорости на основе ACL](5.-acl_and_nat.md#rate-limit).

## Виды ACL

Ладно, забудем на время эту лирику.  
Вообще говоря, списки доступа бывают разными:

* Стандартные
* Расширенные
* Динамические
* Рефлексивные
* Повременные

Мы своё внимание остановим сегодня на первых двух, а более подробно обо всех вы можете прочитать у [циски](http://www.cisco.com/en/US/products/sw/secursw/ps1018/products_tech_note09186a00800a5b9a.shtml#acltypes).

## Входящий и исходящий трафик

Для почину давайте-ка разберёмся с одной вещью. Что понимать под входящим и исходящим трафиком? Это нам в будущем понадобится. Входящий трафик — этот тот, который приходит на интерфейс извне.  
![](http://img-fotki.yandex.ru/get/6402/83739833.1c/0_92a23_59a4df21_M.jpg)  
Исходящий — тот, который отправляется с интерфейса вовне.  
![](http://img-fotki.yandex.ru/get/6400/83739833.1c/0_92a24_fab944b6_M.jpg)  
Список доступа вы можете применить либо на входящий трафик, тогда неугодные пакеты не будут даже попадать на маршрутизатор и соответственно, дальше в сеть, либо на исходящий, тогда пакеты приходят на маршрутизатор, обрабатываются им, доходят до целевого интерфейса и только на нём дропятся.

Стандартный список доступа проверяет только адрес отправителя. Расширенный- адрес отправителя, адрес получателя, а также порт. Стандартные ACL рекомендуется ставить как можно ближе к получателю \(чтобы не порезать больше, чем нужно\), а расширенные- ближе к отправителю \(чтобы как можно раньше дропнуть нежелательный трафик\).

